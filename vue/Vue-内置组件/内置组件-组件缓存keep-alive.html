<!DOCTYPE html>
<html>
<head>
	<title>内置组件-组件缓存<keep-alive></title>
</head>
<body>
<!-- 
	组件的缓存:
		如果不想每次创建 Vue组件实例是都要重新渲染那么大的开销, 可使用 <keep-alive> 组件

		keep-alive 是一个抽象的组件, 他既不渲染任何 DOM 元素, 也不会出现在组件结构树中, 我们可使用它缓存一些非动态的组件实例(无数据变化), 以保留组件状态或减少重新渲染的开销	

		- 使用场景:
			keep-alive应该出现在组件被移除之后需要再次挂载的地方, 比如使用动态组件component时
				<keep-alive>
					<component :is="current_component"></component>
				</keep-alive>

			或者是 v-if 时
				<keep-alive>
					<AdminPage v-if="info.role='admin" />
					<UserPage v-else />	
				</keep-alive>	

		属性:
			-- include: 代表匹配的组件会被缓存
			-- exclude: 代表匹配到的组件不会被缓存		
				== 说明:
				 	* 这两个属性的属性值都为 字符串/正则表达式/数组
					* 匹配首先检查组件自身的 name 选项, 如果 name 选项不可用, 则匹配它的局部注册名称(父组件 components 选项的键值), 匿名组件不能被匹配

				<keep-alive include="a, b">
					<component :is="current_component"></component>
				</keep-alive>

				<keep-alive include="/a|b">
					<component :is="current_component"></component>
				</keep-alive>

				<keep-alive include="['a', 'b']">
					<component :is="current_component"></component>
				</keep-alive>

			-- max: 最多可缓存多少个组件实例, 当该数字达到了, 在新实例被创建之前, 已缓存组件中最久没有被访问的组件实例会被销毁掉

				<keep-alive :max="10">
					<component :is="current_component"></component>
				</keep-alive>

		- 与组件缓存有关的钩子函数:
			activated / deactivated
			这两个钩子函数 会在 keep-alive 所嵌套的所有组件中触发

				activated: 缓存组件激活时触发
				deactivated: 缓存组件隐藏时触发
  -->
</body>
</html>